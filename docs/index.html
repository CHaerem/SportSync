<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">
	<meta name="description" content="Personalized sports dashboard with live events for football, golf, tennis, F1, chess, esports, and Olympics.">
	<meta name="theme-color" content="#d97757">
	<title>SportSync</title>
	<style>
		:root {
			--bg: #faf9f5;
			--bg-secondary: #f0efe8;
			--fg: #3d3929;
			--muted: #8b8580;
			--border: #e8e5dc;
			--border-strong: #3d3929;
			--accent: #d97757;
			--radius: 12px;
			--max-w: 480px;
			--font: system-ui, -apple-system, sans-serif;
			--font-serif: ui-serif, Georgia, Cambria, 'Times New Roman', serif;
			--shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
		}
		.dark {
			--bg: #1a1816;
			--bg-secondary: #242220;
			--fg: #faf9f5;
			--muted: #9a958e;
			--border: #2d2a26;
			--border-strong: #faf9f5;
			--shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
		}
		* { margin: 0; padding: 0; box-sizing: border-box; }

		body {
			font-family: var(--font);
			background: var(--bg);
			color: var(--fg);
			line-height: 1.6;
			font-size: 15px;
			font-weight: 400;
			-webkit-font-smoothing: antialiased;
		}

		.wrap {
			max-width: var(--max-w);
			margin: 0 auto;
			padding: 40px 24px 60px;
		}

		/* --- Header --- */
		header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin-bottom: 32px;
		}
		header h1 {
			font-family: var(--font-serif);
			font-size: 1.15rem;
			font-weight: 400;
			letter-spacing: -0.01em;
			color: var(--fg);
		}
		#themeToggle {
			background: none;
			border: none;
			font-size: 1rem;
			cursor: pointer;
			padding: 4px;
			line-height: 1;
			opacity: 0.5;
			transition: opacity 0.15s;
		}
		#themeToggle:hover { opacity: 0.8; }

		/* --- Date line --- */
		#date-line {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.12em;
			color: var(--muted);
			margin-bottom: 16px;
		}

		/* --- The Brief --- */
		#the-brief {
			padding: 0 0 20px;
			margin-bottom: 20px;
			border-left: 2.5px solid var(--accent);
			padding-left: 14px;
			font-family: var(--font-serif);
			font-size: 0.95rem;
			color: var(--fg);
			line-height: 1.8;
			font-weight: 400;
		}

		/* --- Featured Sections --- */
		#featured-sections { margin-bottom: 24px; }
		.featured-section {
			background: var(--bg-secondary);
			border: none;
			border-radius: var(--radius);
			padding: 18px 20px;
			margin-bottom: 24px;
			box-shadow: var(--shadow);
		}
		.featured-section.highlight {
			border-left: 3px solid var(--accent);
		}
		.feat-header {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.1em;
			margin-bottom: 12px;
			color: var(--accent);
		}
		.feat-item {
			font-size: 0.8rem;
			padding: 4px 0;
			color: var(--fg);
			font-variant-numeric: tabular-nums;
		}
		.feat-item.stat {
			font-weight: 500;
			font-size: 0.75rem;
			color: var(--muted);
			margin-bottom: 2px;
		}
		.feat-item.text {
			color: var(--muted);
		}
		.feat-expand {
			background: none;
			border: none;
			color: var(--accent);
			font-size: 0.7rem;
			cursor: pointer;
			margin-top: 10px;
			padding: 0;
			font-weight: 400;
			transition: opacity 0.15s;
		}
		.feat-expand:hover { opacity: 0.7; }
		.feat-expand-content { display: none; }
		.feat-expand-content.open { display: block; }

		/* --- Temporal Band Labels --- */
		.band-label {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.12em;
			color: var(--muted);
			margin: 24px 0 12px;
			padding-top: 16px;
			border-top: 1px solid var(--border);
			cursor: default;
		}
		.band-label:first-child {
			margin-top: 0;
			padding-top: 0;
			border-top: none;
		}
		.band-label.live {
			color: #e74c3c;
		}
		.band-label.results {
			opacity: 0.7;
		}
		.band-label.collapsible {
			cursor: pointer;
			transition: opacity 0.15s;
		}
		.band-label.collapsible:hover {
			opacity: 0.7;
		}
		.band-preview {
			font-size: 0.7rem;
			color: var(--muted);
			opacity: 0.55;
			margin: 2px 0 0;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		.band-content { }
		.band-content.collapsed { display: none; }

		/* Results band: muted titles, bold times */
		.band-results .row-title {
			color: var(--muted);
		}
		.band-results .row-time {
			font-weight: 500;
		}

		/* --- Sport Sections --- */
		.sport-section {
			margin-bottom: 14px;
			padding-left: 14px;
			border-left: 2.5px solid var(--border);
		}
		.sport-section.compact {
			margin-bottom: 8px;
		}
		.band-content .sport-section:last-child {
			margin-bottom: 0;
		}
		.sport-header {
			display: flex;
			align-items: center;
			gap: 8px;
			margin-bottom: 4px;
		}
		.sport-name {
			font-size: 0.65rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.08em;
			color: var(--fg);
		}
		.sport-next {
			font-size: 0.8rem;
			color: var(--muted);
			padding: 2px 0;
		}
		.section-divider {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.12em;
			color: var(--muted);
			margin: 32px 0 16px;
			padding-top: 16px;
			border-top: 1px solid var(--border);
		}

		/* --- Live indicator --- */
		.live-dot {
			display: inline-block;
			width: 6px; height: 6px;
			background: #e74c3c;
			border-radius: 50%;
			margin-right: 4px;
			vertical-align: middle;
			animation: live-pulse 1.5s ease-in-out infinite;
		}
		@keyframes live-pulse {
			0%, 100% { opacity: 1; }
			50% { opacity: 0.3; }
		}
		.row-title strong {
			font-weight: 600;
			font-variant-numeric: tabular-nums;
		}

		/* --- Must-watch events --- */
		.event-row.must-watch {
			background: rgba(217, 119, 87, 0.04);
		}
		.row-title.must-watch-title {
			font-weight: 500;
		}

		/* --- Event Row --- */
		.event-row {
			padding: 6px 0;
			cursor: pointer;
			border-radius: 6px;
			transition: background 0.15s;
		}
		.event-row:hover { background: var(--bg-secondary); }

		.row-main {
			display: flex;
			align-items: center;
			gap: 10px;
			min-height: 28px;
		}
		.row-time {
			font-size: 0.75rem;
			font-weight: 400;
			color: var(--muted);
			min-width: 42px;
			font-variant-numeric: tabular-nums;
			flex-shrink: 0;
		}
		.row-rel {
			display: block;
			font-size: 0.6rem;
			opacity: 0.7;
			line-height: 1.2;
		}
		.row-icons {
			display: flex;
			align-items: center;
			gap: 3px;
			flex-shrink: 0;
		}
		.row-logo {
			width: 20px;
			height: 20px;
			object-fit: contain;
		}
		.row-headshot {
			width: 24px;
			height: 24px;
			border-radius: 50%;
			object-fit: cover;
		}
		.row-title {
			font-size: 0.8rem;
			font-weight: 400;
			flex: 1;
			min-width: 0;
		}
		.row-title-text {
			display: block;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		.row-subtitle {
			display: block;
			font-size: 0.65rem;
			color: var(--muted);
			opacity: 0.6;
			line-height: 1.3;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		.row-ended {
			font-size: 0.65rem;
			text-transform: uppercase;
			letter-spacing: 0.04em;
			color: var(--muted);
			opacity: 0.7;
		}

		/* --- More toggle --- */
		.more-toggle {
			background: none;
			border: none;
			color: var(--accent);
			font-size: 0.7rem;
			font-family: var(--font);
			font-weight: 400;
			cursor: pointer;
			padding: 6px 0;
			width: 100%;
			text-align: left;
			transition: opacity 0.15s;
		}
		.more-toggle:hover { opacity: 0.7; }
		.more-content { display: none; }
		.more-content.open { display: block; }

		/* --- Expanded Row --- */
		.row-expanded {
			padding: 14px 0 10px 46px;
			font-size: 0.85rem;
		}
		.exp-venue {
			color: var(--muted);
			margin-bottom: 8px;
			font-size: 0.8rem;
		}
		.exp-summary {
			color: var(--muted);
			font-size: 0.75rem;
			font-style: italic;
			line-height: 1.6;
			margin-bottom: 8px;
		}
		.exp-tags {
			display: flex;
			gap: 6px;
			margin-bottom: 8px;
			flex-wrap: wrap;
		}
		.exp-tag {
			font-size: 0.6rem;
			text-transform: uppercase;
			letter-spacing: 0.05em;
			color: var(--muted);
			border: 1px solid var(--border);
			border-radius: 4px;
			padding: 1px 6px;
		}
		.exp-teams {
			display: flex;
			align-items: center;
			gap: 24px;
			margin-bottom: 12px;
		}
		.exp-team {
			display: flex;
			align-items: center;
			gap: 8px;
			font-size: 0.85rem;
		}
		.exp-logo {
			width: 32px;
			height: 32px;
			object-fit: contain;
		}
		.exp-logo-placeholder {
			width: 32px;
			height: 32px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1.1rem;
		}
		.exp-vs {
			color: var(--muted);
			font-size: 0.75rem;
		}
		.exp-golfers { margin-bottom: 12px; }
		.exp-golfer {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 6px 0;
			border-bottom: 1px solid var(--border);
		}
		.exp-golfer:last-of-type { border-bottom: none; }
		.exp-golfer-info {
			display: flex;
			align-items: center;
			gap: 8px;
		}
		.exp-headshot {
			width: 28px;
			height: 28px;
			border-radius: 50%;
			object-fit: cover;
		}
		.exp-headshot-placeholder {
			width: 28px;
			height: 28px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 0.9rem;
		}
		.exp-tee-time {
			font-size: 0.8rem;
			font-weight: 400;
			color: var(--muted);
			font-variant-numeric: tabular-nums;
		}
		.exp-link {
			display: inline-block;
			margin-top: 8px;
			font-size: 0.8rem;
			color: var(--accent);
			text-decoration: none;
		}
		.exp-link:hover { opacity: 0.7; }
		.exp-streaming {
			display: flex;
			gap: 8px;
			margin-bottom: 12px;
			flex-wrap: wrap;
		}
		.exp-stream-badge {
			font-size: 0.7rem;
			color: var(--muted);
			background: var(--bg-secondary);
			border: 1px solid var(--border);
			border-radius: 20px;
			padding: 3px 12px;
			text-decoration: none;
			display: inline-block;
			transition: border-color 0.15s;
		}
		.exp-stream-badge:hover {
			border-color: var(--accent);
			color: var(--fg);
		}
		.exp-fav-actions {
			display: flex;
			gap: 8px;
			flex-wrap: wrap;
		}
		.exp-fav-btn {
			background: none;
			border: 1px solid var(--border);
			border-radius: 20px;
			padding: 3px 12px;
			font-size: 0.7rem;
			color: var(--muted);
			cursor: pointer;
			transition: all 0.15s;
		}
		.exp-fav-btn:hover {
			border-color: var(--accent);
			color: var(--accent);
		}

		/* --- Standings mini-tables --- */
		.exp-standings { margin: 12px 0; }
		.exp-standings-header {
			font-size: 0.6rem; font-weight: 600; text-transform: uppercase;
			letter-spacing: 0.08em; color: var(--muted); margin-bottom: 6px;
		}
		.exp-mini-table {
			width: 100%; border-collapse: collapse;
			font-size: 0.72rem; font-variant-numeric: tabular-nums;
		}
		.exp-mini-table th {
			text-align: left; font-weight: 400; color: var(--muted);
			font-size: 0.6rem; padding: 2px 6px 4px; border-bottom: 1px solid var(--border);
		}
		.exp-mini-table td { padding: 3px 6px; white-space: nowrap; }
		.exp-mini-table tr.highlight td { font-weight: 500; color: var(--accent); }
		.exp-mini-table tr.ellipsis td { color: var(--muted); font-size: 0.65rem; padding: 1px 6px; }

		/* --- Match Details (football expanded) --- */
		.match-stats {
			margin: 10px 0;
			font-size: 0.72rem;
			color: var(--fg);
		}
		.stat-bar {
			display: flex;
			align-items: center;
			gap: 8px;
			margin-bottom: 6px;
			font-variant-numeric: tabular-nums;
		}
		.stat-bar-label {
			flex: 0 0 auto;
			font-size: 0.65rem;
			color: var(--muted);
			text-align: right;
			min-width: 64px;
		}
		.stat-bar-track {
			flex: 1;
			height: 4px;
			background: var(--border);
			border-radius: 2px;
			overflow: hidden;
			display: flex;
		}
		.stat-bar-fill {
			height: 100%;
			background: var(--accent);
			transition: width 0.3s;
		}
		.stat-bar-values {
			display: flex;
			justify-content: space-between;
			font-size: 0.65rem;
			color: var(--muted);
			margin-bottom: 4px;
		}
		.match-events {
			margin: 10px 0;
		}
		.match-event-item {
			display: flex;
			align-items: baseline;
			gap: 6px;
			padding: 2px 0;
			font-size: 0.72rem;
			color: var(--fg);
		}
		.match-event-minute {
			font-size: 0.65rem;
			color: var(--muted);
			min-width: 28px;
			text-align: right;
			font-variant-numeric: tabular-nums;
		}
		.match-event-icon {
			flex-shrink: 0;
		}
		.match-event-text {
			color: var(--muted);
		}

		/* --- Empty / Loading --- */
		.empty {
			text-align: center;
			color: var(--muted);
			padding: 48px 0;
			font-size: 0.85rem;
		}
		.loading {
			text-align: center;
			padding: 48px 0;
			color: var(--muted);
			font-size: 0.8rem;
			font-weight: 400;
		}

		/* --- Watch Plan --- */
		#watch-plan { margin-bottom: 24px; }
		.watch-plan-header {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.1em;
			color: var(--accent);
			margin-bottom: 10px;
		}
		.watch-pick {
			display: flex;
			align-items: flex-start;
			gap: 10px;
			padding: 8px 0;
			border-bottom: 1px solid var(--border);
			font-size: 0.8rem;
			cursor: pointer;
			transition: background 0.15s;
		}
		.watch-pick:last-child { border-bottom: none; }
		.watch-pick:hover { background: var(--bg-secondary); }
		.pick-time {
			font-size: 0.75rem;
			color: var(--muted);
			min-width: 42px;
			flex-shrink: 0;
			font-variant-numeric: tabular-nums;
		}
		.pick-time .row-rel {
			display: block;
			font-size: 0.6rem;
			opacity: 0.7;
			line-height: 1.2;
		}
		.pick-body { flex: 1; min-width: 0; }
		.pick-title {
			font-weight: 400;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		.pick-reasons {
			display: flex;
			gap: 4px;
			flex-wrap: wrap;
			margin-top: 4px;
		}
		.pick-reason {
			font-size: 0.55rem;
			text-transform: uppercase;
			letter-spacing: 0.04em;
			color: var(--accent);
			border: 1px solid var(--accent);
			border-radius: 10px;
			padding: 1px 7px;
			opacity: 0.8;
		}
		.pick-stream {
			font-size: 0.55rem;
			text-transform: uppercase;
			letter-spacing: 0.04em;
			color: var(--muted);
			border: 1px solid var(--border);
			border-radius: 10px;
			padding: 1px 7px;
		}
		.watch-plan-more {
			background: none;
			border: none;
			color: var(--accent);
			font-size: 0.7rem;
			cursor: pointer;
			margin-top: 8px;
			padding: 0;
			font-weight: 400;
			transition: opacity 0.15s;
		}
		.watch-plan-more:hover { opacity: 0.7; }

		/* --- Radar --- */
		#radar { margin-bottom: 24px; }
		.radar-section {
			border-left: 2.5px solid var(--accent);
			padding-left: 14px;
			font-size: 0.8rem;
			font-style: italic;
			color: var(--muted);
			line-height: 1.7;
		}
		.radar-header {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.1em;
			color: var(--accent);
			margin-bottom: 8px;
			font-style: normal;
		}

		/* --- Importance reason (expanded view) --- */
		.exp-importance-reason {
			font-size: 0.7rem;
			color: var(--muted);
			margin-bottom: 8px;
			line-height: 1.5;
		}

		/* --- News --- */
		#news { margin-top: 24px; }
		.news-toggle {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.12em;
			color: var(--muted);
			cursor: pointer;
			padding: 16px 0 12px;
			border-top: 1px solid var(--border);
			background: none;
			border-left: none;
			border-right: none;
			border-bottom: none;
			width: 100%;
			text-align: left;
			transition: opacity 0.15s;
		}
		.news-toggle:hover { opacity: 0.7; }
		.news-content { display: none; }
		.news-content.open { display: block; }
		.news-sport-group {
			margin-bottom: 12px;
		}
		.news-sport-label {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.08em;
			color: var(--fg);
			margin-bottom: 4px;
		}
		.news-item {
			display: flex;
			align-items: baseline;
			gap: 8px;
			padding: 3px 0;
			font-size: 0.78rem;
		}
		.news-source {
			font-size: 0.55rem;
			text-transform: uppercase;
			letter-spacing: 0.04em;
			color: var(--muted);
			border: 1px solid var(--border);
			border-radius: 4px;
			padding: 1px 5px;
			flex-shrink: 0;
			white-space: nowrap;
		}
		.news-link {
			color: var(--fg);
			text-decoration: none;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		.news-link:hover { color: var(--accent); }

		/* --- Reduced motion --- */
		@media (prefers-reduced-motion: reduce) {
			*, *::before, *::after {
				animation-duration: 0.01ms !important;
				transition-duration: 0.01ms !important;
			}
		}

		/* --- Mobile tweaks --- */
		@media (max-width: 380px) {
			.wrap { padding: 24px 16px 40px; }
			.row-title-text { font-size: 0.78rem; }
		}
	</style>
</head>
<body>
	<div class="wrap">
		<header>
			<h1>SportSync</h1>
			<button id="themeToggle" aria-label="Toggle dark mode">&#127769;</button>
		</header>

		<div id="date-line"></div>
		<div id="the-brief"></div>

		<div id="featured-sections"></div>

		<div id="watch-plan"></div>
		<div id="radar"></div>

		<div id="events">
			<div class="loading">Loading...</div>
		</div>

		<div id="news"></div>

	</div>

	<script src="js/sport-config.js?v=2026021006"></script>
	<script src="js/asset-maps.js?v=2026021006"></script>
	<script src="js/preferences-manager.js?v=2026021006"></script>
	<script src="js/dashboard.js?v=2026021006"></script>

	<script>
		if ('serviceWorker' in navigator) {
			window.addEventListener('load', async () => {
				try {
					await navigator.serviceWorker.register('/SportSync/sw.js');
				} catch (e) {
					console.error('SW registration failed:', e);
				}
			});
		}
	</script>
</body>
</html>
