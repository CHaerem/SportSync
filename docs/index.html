<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">
	<meta name="description" content="Personalized sports dashboard with live events for football, golf, tennis, F1, chess, esports, and Olympics.">
	<meta name="theme-color" content="#d97757">
	<title>SportSync</title>
	<style>
		:root {
			--bg: #faf9f5;
			--bg-secondary: #f0efe8;
			--fg: #3d3929;
			--muted: #8b8580;
			--border: #e8e5dc;
			--border-strong: #3d3929;
			--accent: #d97757;
			--radius: 12px;
			--max-w: 480px;
			--font: system-ui, -apple-system, sans-serif;
			--font-serif: ui-serif, Georgia, Cambria, 'Times New Roman', serif;
			--shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
		}
		.dark {
			--bg: #1a1816;
			--bg-secondary: #242220;
			--fg: #faf9f5;
			--muted: #9a958e;
			--border: #2d2a26;
			--border-strong: #faf9f5;
			--shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
		}
		* { margin: 0; padding: 0; box-sizing: border-box; }

		body {
			font-family: var(--font);
			background: var(--bg);
			color: var(--fg);
			line-height: 1.6;
			font-size: 15px;
			font-weight: 400;
			-webkit-font-smoothing: antialiased;
		}

		.wrap {
			max-width: var(--max-w);
			margin: 0 auto;
			padding: 40px 24px 60px;
		}

		/* --- Header --- */
		header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin-bottom: 32px;
		}
		header h1 {
			font-family: var(--font-serif);
			font-size: 1.15rem;
			font-weight: 400;
			letter-spacing: -0.01em;
			color: var(--fg);
		}
		#themeToggle {
			background: none;
			border: none;
			font-size: 1rem;
			cursor: pointer;
			padding: 4px;
			line-height: 1;
			opacity: 0.5;
			transition: opacity 0.15s;
		}
		#themeToggle:hover { opacity: 0.8; }

		/* --- The Brief --- */
		#the-brief {
			padding: 0 0 24px;
			margin-bottom: 24px;
			font-family: var(--font-serif);
			font-size: 0.95rem;
			color: var(--fg);
			line-height: 1.8;
			font-weight: 400;
		}

		/* --- Featured Sections --- */
		#featured-sections { margin-bottom: 24px; }
		.featured-section {
			background: var(--bg-secondary);
			border: none;
			border-radius: var(--radius);
			padding: 18px 20px;
			margin-bottom: 24px;
			box-shadow: var(--shadow);
		}
		.featured-section.highlight {
			border-left: 3px solid var(--accent);
		}
		.feat-header {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.1em;
			margin-bottom: 12px;
			color: var(--accent);
		}
		.feat-item {
			font-size: 0.8rem;
			padding: 4px 0;
			color: var(--fg);
			font-variant-numeric: tabular-nums;
		}
		.feat-item.stat {
			font-weight: 500;
			font-size: 0.75rem;
			color: var(--muted);
			margin-bottom: 2px;
		}
		.feat-item.text {
			color: var(--muted);
		}
		.feat-expand {
			background: none;
			border: none;
			color: var(--accent);
			font-size: 0.7rem;
			cursor: pointer;
			margin-top: 10px;
			padding: 0;
			font-weight: 400;
			transition: opacity 0.15s;
		}
		.feat-expand:hover { opacity: 0.7; }
		.feat-expand-content { display: none; }
		.feat-expand-content.open { display: block; }

		/* --- Sport Sections --- */
		.sport-section {
			margin-bottom: 22px;
			padding-left: 14px;
			border-left: 2.5px solid var(--border);
		}
		.sport-section.compact {
			margin-bottom: 12px;
		}
		.sport-header {
			display: flex;
			align-items: center;
			gap: 8px;
			margin-bottom: 4px;
		}
		.sport-name {
			font-size: 0.65rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.08em;
			color: var(--fg);
		}
		.sport-status {
			font-size: 0.65rem;
			color: var(--muted);
			margin-left: auto;
			font-weight: 400;
			font-variant-numeric: tabular-nums;
		}
		.sport-next {
			font-size: 0.8rem;
			color: var(--muted);
			padding: 2px 0;
		}
		.section-divider {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.12em;
			color: var(--muted);
			margin: 28px 0 14px;
		}

		/* --- Event Row --- */
		.event-row {
			padding: 6px 0;
			cursor: pointer;
			border-radius: 6px;
			transition: background 0.15s;
		}
		.event-row:hover { background: var(--bg-secondary); }

		.row-main {
			display: flex;
			align-items: center;
			gap: 10px;
			min-height: 28px;
		}
		.row-time {
			font-size: 0.75rem;
			font-weight: 400;
			color: var(--muted);
			min-width: 36px;
			font-variant-numeric: tabular-nums;
			flex-shrink: 0;
		}
		.row-icons {
			display: flex;
			align-items: center;
			gap: 3px;
			flex-shrink: 0;
		}
		.row-logo {
			width: 20px;
			height: 20px;
			object-fit: contain;
		}
		.row-headshot {
			width: 24px;
			height: 24px;
			border-radius: 50%;
			object-fit: cover;
		}
		.row-title {
			font-size: 0.8rem;
			font-weight: 400;
			flex: 1;
			min-width: 0;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		/* --- More toggle --- */
		.more-toggle {
			background: none;
			border: none;
			color: var(--accent);
			font-size: 0.7rem;
			font-family: var(--font);
			font-weight: 400;
			cursor: pointer;
			padding: 6px 0;
			width: 100%;
			text-align: left;
			transition: opacity 0.15s;
		}
		.more-toggle:hover { opacity: 0.7; }
		.more-content { display: none; }
		.more-content.open { display: block; }

		/* --- Expanded Row --- */
		.row-expanded {
			padding: 14px 0 10px 46px;
			font-size: 0.85rem;
		}
		.exp-venue {
			color: var(--muted);
			margin-bottom: 12px;
			font-size: 0.8rem;
		}
		.exp-teams {
			display: flex;
			align-items: center;
			gap: 24px;
			margin-bottom: 12px;
		}
		.exp-team {
			display: flex;
			align-items: center;
			gap: 8px;
			font-size: 0.85rem;
		}
		.exp-logo {
			width: 32px;
			height: 32px;
			object-fit: contain;
		}
		.exp-logo-placeholder {
			width: 32px;
			height: 32px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1.1rem;
		}
		.exp-vs {
			color: var(--muted);
			font-size: 0.75rem;
		}
		.exp-golfers { margin-bottom: 12px; }
		.exp-golfer {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 6px 0;
			border-bottom: 1px solid var(--border);
		}
		.exp-golfer:last-of-type { border-bottom: none; }
		.exp-golfer-info {
			display: flex;
			align-items: center;
			gap: 8px;
		}
		.exp-headshot {
			width: 28px;
			height: 28px;
			border-radius: 50%;
			object-fit: cover;
		}
		.exp-headshot-placeholder {
			width: 28px;
			height: 28px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 0.9rem;
		}
		.exp-tee-time {
			font-size: 0.8rem;
			font-weight: 400;
			color: var(--muted);
			font-variant-numeric: tabular-nums;
		}
		.exp-link {
			display: inline-block;
			margin-top: 8px;
			font-size: 0.8rem;
			color: var(--accent);
			text-decoration: none;
		}
		.exp-link:hover { opacity: 0.7; }
		.exp-streaming {
			display: flex;
			gap: 8px;
			margin-bottom: 12px;
			flex-wrap: wrap;
		}
		.exp-stream-badge {
			font-size: 0.7rem;
			color: var(--muted);
			background: var(--bg-secondary);
			border: 1px solid var(--border);
			border-radius: 20px;
			padding: 3px 12px;
			text-decoration: none;
			display: inline-block;
			transition: border-color 0.15s;
		}
		.exp-stream-badge:hover {
			border-color: var(--accent);
			color: var(--fg);
		}
		.exp-fav-actions {
			display: flex;
			gap: 8px;
			flex-wrap: wrap;
		}
		.exp-fav-btn {
			background: none;
			border: 1px solid var(--border);
			border-radius: 20px;
			padding: 3px 12px;
			font-size: 0.7rem;
			color: var(--muted);
			cursor: pointer;
			transition: all 0.15s;
		}
		.exp-fav-btn:hover {
			border-color: var(--accent);
			color: var(--accent);
		}

		/* --- Standings mini-tables --- */
		.exp-standings { margin: 12px 0; }
		.exp-standings-header {
			font-size: 0.6rem; font-weight: 600; text-transform: uppercase;
			letter-spacing: 0.08em; color: var(--muted); margin-bottom: 6px;
		}
		.exp-mini-table {
			width: 100%; border-collapse: collapse;
			font-size: 0.72rem; font-variant-numeric: tabular-nums;
		}
		.exp-mini-table th {
			text-align: left; font-weight: 400; color: var(--muted);
			font-size: 0.6rem; padding: 2px 6px 4px; border-bottom: 1px solid var(--border);
		}
		.exp-mini-table td { padding: 3px 6px; white-space: nowrap; }
		.exp-mini-table tr.highlight td { font-weight: 500; color: var(--accent); }
		.exp-mini-table tr.ellipsis td { color: var(--muted); font-size: 0.65rem; padding: 1px 6px; }

		/* --- On the Radar --- */
		#on-the-radar {
			margin-top: 36px;
		}
		.radar-text {
			font-family: var(--font-serif);
			font-size: 0.8rem;
			color: var(--muted);
			line-height: 1.8;
			font-style: italic;
			font-weight: 400;
		}

		/* --- Empty / Loading --- */
		.empty {
			text-align: center;
			color: var(--muted);
			padding: 48px 0;
			font-size: 0.85rem;
		}
		.loading {
			text-align: center;
			padding: 48px 0;
			color: var(--muted);
			font-size: 0.8rem;
			font-weight: 400;
		}

		/* --- Reduced motion --- */
		@media (prefers-reduced-motion: reduce) {
			*, *::before, *::after {
				animation-duration: 0.01ms !important;
				transition-duration: 0.01ms !important;
			}
		}

		/* --- Mobile tweaks --- */
		@media (max-width: 380px) {
			.wrap { padding: 24px 16px 40px; }
			.row-title { font-size: 0.78rem; }
		}
	</style>
</head>
<body>
	<div class="wrap">
		<header>
			<h1>SportSync</h1>
			<button id="themeToggle" aria-label="Toggle dark mode">&#127769;</button>
		</header>

		<div id="the-brief"></div>

		<div id="featured-sections"></div>

		<div id="events">
			<div class="loading">Loading...</div>
		</div>

		<div id="on-the-radar" style="display:none;"></div>
	</div>

	<script src="js/sport-config.js?v=2026021006"></script>
	<script src="js/asset-maps.js?v=2026021006"></script>
	<script src="js/sports-api.js?v=2026021006"></script>
	<script src="js/preferences-manager.js?v=2026021006"></script>
	<script src="js/dashboard.js?v=2026021006"></script>

	<script>
		if ('serviceWorker' in navigator) {
			window.addEventListener('load', async () => {
				try {
					await navigator.serviceWorker.register('/SportSync/sw.js');
				} catch (e) {
					console.error('SW registration failed:', e);
				}
			});
		}
	</script>
</body>
</html>
