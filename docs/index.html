<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">
	<meta name="description" content="Personalized sports dashboard with live events for football, golf, tennis, F1, chess, esports, and Olympics.">
	<meta name="theme-color" content="#667eea">
	<title>SportSync</title>
	<style>
		:root {
			--bg: #ffffff;
			--fg: #111111;
			--muted: #999999;
			--border: #eeeeee;
			--border-strong: #111111;
			--accent: #667eea;
			--radius: 8px;
			--max-w: 480px;
			--font: system-ui, -apple-system, sans-serif;
		}
		.dark {
			--bg: #000000;
			--fg: #f0f0f0;
			--muted: #555555;
			--border: #1a1a1a;
			--border-strong: #f0f0f0;
		}
		* { margin: 0; padding: 0; box-sizing: border-box; }

		body {
			font-family: var(--font);
			background: var(--bg);
			color: var(--fg);
			line-height: 1.5;
			font-size: 15px;
			font-weight: 300;
			-webkit-font-smoothing: antialiased;
		}

		.wrap {
			max-width: var(--max-w);
			margin: 0 auto;
			padding: 32px 20px 80px;
		}

		/* --- Header --- */
		header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin-bottom: 40px;
		}
		header h1 {
			font-size: 1.1rem;
			font-weight: 400;
			letter-spacing: -0.02em;
			color: var(--muted);
		}
		#themeToggle {
			background: none;
			border: none;
			font-size: 1rem;
			cursor: pointer;
			padding: 4px;
			line-height: 1;
			opacity: 0.4;
		}

		/* --- The Brief --- */
		#the-brief {
			border-top: 1.5px solid var(--border-strong);
			padding: 20px 0 0;
			margin-bottom: 48px;
		}
		.brief-label {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.18em;
			color: var(--muted);
			margin-bottom: 12px;
		}
		.brief-lines {
			font-size: 0.95rem;
			line-height: 1.9;
			font-weight: 300;
		}
		.brief-line {
			margin-bottom: 2px;
		}

		/* --- Featured Sections --- */
		#featured-sections { margin-bottom: 16px; }
		.featured-section {
			border: 1px solid var(--border);
			border-radius: var(--radius);
			padding: 20px;
			margin-bottom: 48px;
		}
		.featured-section.highlight {
			border-color: var(--border-strong);
			border-width: 1.5px;
		}
		.feat-header {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.12em;
			margin-bottom: 16px;
			color: var(--muted);
		}
		.feat-item {
			font-size: 0.85rem;
			padding: 5px 0;
			color: var(--fg);
			font-variant-numeric: tabular-nums;
		}
		.feat-item.stat {
			font-weight: 400;
			font-size: 0.8rem;
			color: var(--muted);
			margin-bottom: 4px;
		}
		.feat-item.text {
			color: var(--muted);
		}
		.feat-expand {
			background: none;
			border: none;
			color: var(--muted);
			font-size: 0.75rem;
			cursor: pointer;
			margin-top: 12px;
			padding: 0;
			font-weight: 300;
		}
		.feat-expand:hover { color: var(--fg); }
		.feat-expand-content { display: none; }
		.feat-expand-content.open { display: block; }

		/* --- Bands --- */
		.band-label {
			font-size: 0.6rem;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.18em;
			color: var(--muted);
			margin-bottom: 12px;
			display: flex;
			justify-content: space-between;
			align-items: baseline;
		}
		.band-date {
			font-size: 0.6rem;
			font-weight: 300;
			color: var(--muted);
			text-transform: none;
			letter-spacing: 0;
		}

		/* --- Event Row --- */
		.event-row {
			padding: 10px 0;
			cursor: pointer;
			transition: background 0.1s;
		}
		.event-row:hover { background: color-mix(in srgb, var(--fg) 2%, transparent); }

		.row-main {
			display: flex;
			align-items: center;
			gap: 14px;
			min-height: 28px;
		}
		.row-time {
			font-size: 0.75rem;
			font-weight: 400;
			color: var(--muted);
			min-width: 40px;
			font-variant-numeric: tabular-nums;
			flex-shrink: 0;
		}
		.row-title {
			font-size: 0.85rem;
			font-weight: 300;
			flex: 1;
			min-width: 0;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		.row-dot {
			width: 5px;
			height: 5px;
			border-radius: 50%;
			flex-shrink: 0;
			opacity: 0.5;
		}

		/* --- More toggle --- */
		.more-toggle {
			background: none;
			border: none;
			color: var(--muted);
			font-size: 0.8rem;
			font-family: var(--font);
			font-weight: 300;
			cursor: pointer;
			padding: 10px 0;
			width: 100%;
			text-align: left;
		}
		.more-toggle:hover { color: var(--fg); }
		.more-content { display: none; }
		.more-content.open { display: block; }

		/* --- Expanded Row --- */
		.row-expanded {
			padding: 12px 0 8px 54px;
			font-size: 0.85rem;
		}
		.exp-venue {
			color: var(--muted);
			margin-bottom: 12px;
			font-size: 0.8rem;
		}
		.exp-teams {
			display: flex;
			align-items: center;
			gap: 24px;
			margin-bottom: 12px;
		}
		.exp-team {
			display: flex;
			align-items: center;
			gap: 8px;
			font-size: 0.85rem;
		}
		.exp-logo {
			width: 32px;
			height: 32px;
			object-fit: contain;
		}
		.exp-logo-placeholder {
			width: 32px;
			height: 32px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1.1rem;
		}
		.exp-vs {
			color: var(--muted);
			font-size: 0.75rem;
		}
		.exp-golfers { margin-bottom: 12px; }
		.exp-golfer {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 6px 0;
			border-bottom: 1px solid var(--border);
		}
		.exp-golfer:last-of-type { border-bottom: none; }
		.exp-golfer-info {
			display: flex;
			align-items: center;
			gap: 8px;
		}
		.exp-headshot {
			width: 28px;
			height: 28px;
			border-radius: 50%;
			object-fit: cover;
		}
		.exp-headshot-placeholder {
			width: 28px;
			height: 28px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 0.9rem;
		}
		.exp-tee-time {
			font-size: 0.8rem;
			font-weight: 400;
			color: var(--muted);
			font-variant-numeric: tabular-nums;
		}
		.exp-link {
			display: inline-block;
			margin-top: 8px;
			font-size: 0.8rem;
			color: var(--muted);
			text-decoration: none;
		}
		.exp-link:hover { color: var(--fg); }
		.exp-streaming {
			display: flex;
			gap: 8px;
			margin-bottom: 12px;
			flex-wrap: wrap;
		}
		.exp-stream-badge {
			font-size: 0.7rem;
			color: var(--muted);
			border: 1px solid var(--border);
			border-radius: 12px;
			padding: 2px 10px;
			text-decoration: none;
			display: inline-block;
		}
		.exp-stream-badge:hover {
			border-color: var(--muted);
			color: var(--fg);
		}
		.exp-fav-actions {
			display: flex;
			gap: 8px;
			flex-wrap: wrap;
		}
		.exp-fav-btn {
			background: none;
			border: 1px solid var(--border);
			border-radius: 12px;
			padding: 2px 10px;
			font-size: 0.7rem;
			color: var(--muted);
			cursor: pointer;
		}
		.exp-fav-btn:hover {
			border-color: var(--accent);
			color: var(--accent);
		}

		/* --- On the Radar --- */
		#on-the-radar {
			margin-top: 48px;
			padding-top: 0;
		}
		.radar-text {
			font-size: 0.8rem;
			color: var(--muted);
			line-height: 1.8;
			font-style: italic;
			font-weight: 300;
		}

		/* --- Filters (bottom, de-emphasized) --- */
		.filters {
			display: flex;
			gap: 14px;
			margin-top: 56px;
			justify-content: center;
			flex-wrap: wrap;
		}
		.filter-dot {
			width: 30px;
			height: 30px;
			border-radius: 50%;
			border: 1.5px solid var(--border);
			background: transparent;
			cursor: pointer;
			font-size: 0.85rem;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: border-color 0.15s, opacity 0.15s;
			opacity: 0.3;
		}
		.filter-dot:hover { opacity: 0.6; }
		.filter-dot.active {
			opacity: 1;
			border-color: var(--fg);
		}

		/* --- Empty / Loading --- */
		.empty {
			text-align: center;
			color: var(--muted);
			padding: 48px 0;
			font-size: 0.85rem;
		}
		.loading {
			text-align: center;
			padding: 48px 0;
			color: var(--muted);
			font-size: 0.8rem;
			font-weight: 300;
		}

		/* --- Reduced motion --- */
		@media (prefers-reduced-motion: reduce) {
			*, *::before, *::after {
				animation-duration: 0.01ms !important;
				transition-duration: 0.01ms !important;
			}
		}

		/* --- Mobile tweaks --- */
		@media (max-width: 380px) {
			.wrap { padding: 20px 14px 48px; }
			.row-title { font-size: 0.8rem; }
			.filter-dot { width: 26px; height: 26px; font-size: 0.75rem; }
		}
	</style>
</head>
<body>
	<div class="wrap">
		<header>
			<h1>SportSync</h1>
			<button id="themeToggle" aria-label="Toggle dark mode">&#127769;</button>
		</header>

		<div id="the-brief"></div>

		<div id="featured-sections"></div>

		<div id="events">
			<div class="loading">Loading...</div>
		</div>

		<div id="on-the-radar" style="display:none;"></div>

		<div class="filters" role="navigation" aria-label="Sport filters">
			<button class="filter-dot" data-sport="football" aria-label="Football" title="Football">&#9917;</button>
			<button class="filter-dot" data-sport="golf" aria-label="Golf" title="Golf">&#9971;</button>
			<button class="filter-dot" data-sport="tennis" aria-label="Tennis" title="Tennis">&#127934;</button>
			<button class="filter-dot" data-sport="formula1" aria-label="Formula 1" title="F1">&#127950;&#65039;</button>
			<button class="filter-dot" data-sport="chess" aria-label="Chess" title="Chess">&#9823;&#65039;</button>
			<button class="filter-dot" data-sport="esports" aria-label="Esports" title="Esports">&#127918;</button>
			<button class="filter-dot" data-sport="olympics" aria-label="Olympics" title="Olympics">&#127941;</button>
		</div>
	</div>

	<script src="js/sport-config.js?v=2026021003"></script>
	<script src="js/asset-maps.js?v=2026021003"></script>
	<script src="js/sports-api.js?v=2026021003"></script>
	<script src="js/preferences-manager.js?v=2026021003"></script>
	<script src="js/dashboard.js?v=2026021003"></script>

	<script>
		if ('serviceWorker' in navigator) {
			window.addEventListener('load', async () => {
				try {
					await navigator.serviceWorker.register('/SportSync/sw.js');
				} catch (e) {
					console.error('SW registration failed:', e);
				}
			});
		}
	</script>
</body>
</html>
