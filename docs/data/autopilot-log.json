{
  "runs": [
    {
      "date": "2026-02-10",
      "task": "Extract duplicate sport emoji mappings into shared config",
      "outcome": "completed",
      "pr": 24,
      "details": "Created docs/js/sport-config.js with shared SPORT_CONFIG constant. Replaced duplicate emoji/name mappings in simple-dashboard.js (3 locations), settings-ui.js, and dashboard-helpers.js. Added to SW cache (v12).",
      "tests_passed": true,
      "files_changed": 6,
      "scouted": 0
    },
    {
      "date": "2026-02-10",
      "task": "Add input validation to preferences-manager",
      "outcome": "completed",
      "pr": 25,
      "details": "Added null/empty/whitespace guards to addFavoriteTeam() and addFavoritePlayer(). Methods now return true/false. Added 6 validation tests.",
      "tests_passed": true,
      "files_changed": 2,
      "scouted": 7
    },
    {
      "date": "2026-02-11",
      "task": "Improve dashboard quality: a11y, perf, dead code, SW cache",
      "outcome": "completed",
      "pr": 26,
      "details": "Added alt attributes to inline team logo and golfer headshot images. Added role=button, tabindex=0, and aria-expanded to collapsible band toggles. Replaced per-element event listeners with event delegation on #events container. Removed duplicate listener re-binding from bindBandToggles. Removed dead updateLiveDOM() method (29 lines). Added rss-digest.json and ai-quality.json to SW data cache. Bumped SW cache to v18-quality.",
      "tests_passed": true,
      "files_changed": 2,
      "scouted": 0
    },
    {
      "date": "2026-02-11",
      "task": "Add unit tests for EventFilters utility",
      "outcome": "completed",
      "pr": 27,
      "details": "Added 44 tests covering all 10 static methods on EventFilters in scripts/lib/filters.js. Tests cover time range, current week, teams, players, leagues, Norwegian, sport, sort, limit, deduplication, merge, and combined filters with edge cases.",
      "tests_passed": true,
      "files_changed": 1,
      "scouted": 0
    },
    {
      "date": "2026-02-11",
      "task": "Add unit tests for Norwegian streaming mapper",
      "outcome": "completed",
      "pr": 28,
      "details": "Added 25 tests covering getNorwegianStreaming(), applyNorwegianStreaming(), and norwegianStreamingMap data structure. Tests verify league matching (case-insensitive, partial), sport aliases (formula1→f1), default fallbacks, null/empty inputs, and event mutation.",
      "tests_passed": true,
      "files_changed": 1,
      "scouted": 6
    },
    {
      "date": "2026-02-12",
      "task": "Add curated config schedule verification script",
      "outcome": "completed",
      "pr": 39,
      "details": "Created scripts/verify-schedules.js that cross-references curated config event dates against ESPN scoreboard data, validates date ranges, detects mismatches, and auto-corrects high-confidence time drift. Integrates into health-report.json. 37 unit tests.",
      "tests_passed": true,
      "files_changed": 2,
      "scouted": 0
    },
    {
      "date": "2026-02-12",
      "task": "Add unit tests for api-client.js",
      "outcome": "completed",
      "pr": 40,
      "details": "22 tests covering constructor defaults/custom options, buildURL templating, cache hit/stale fallback, JSON parse errors, HTTP 4xx/5xx handling, retry logic, network error retries, timeout, and fetchWithDates.",
      "tests_passed": true,
      "files_changed": 1,
      "scouted": 0
    },
    {
      "date": "2026-02-12",
      "task": "Add unit tests for base-fetcher.js",
      "outcome": "completed",
      "pr": 41,
      "details": "33 tests covering constructor, fetch pipeline, fetchFromAPIs source iteration/error accumulation, applyFilters (timeRange, maxEvents), normalizeEvents, formatResponse, groupEventsByTournament, hasNorwegianInterest, and abstract methods.",
      "tests_passed": true,
      "files_changed": 1,
      "scouted": 0
    },
    {
      "date": "2026-02-12",
      "task": "Add aria-expanded to featured section expand buttons",
      "outcome": "completed",
      "pr": 42,
      "details": "Added aria-expanded=false to .feat-expand buttons in renderSection() and toggle in click handler, matching the band toggle pattern from PR #26.",
      "tests_passed": true,
      "files_changed": 1,
      "scouted": 0
    },
    {
      "date": "2026-02-12",
      "task": "Improve sport iteration efficiency in renderBand()",
      "outcome": "completed",
      "pr": 46,
      "details": "Refactored renderBand() to iterate only sport groups with events using index map for SPORT_CONFIG ordering, instead of iterating all 7 sports. Added fallback for unknown sport IDs.",
      "tests_passed": true,
      "files_changed": 1,
      "scouted": 0
    },
    {
      "date": "2026-02-12",
      "task": "Add thumbs-up/down feedback to watch-plan items",
      "outcome": "completed",
      "pr": 47,
      "details": "Added feedback controls to watch-plan picks in dashboard.js. Feedback stored in localStorage via new PreferencesManager methods. CSS styling, toggle behavior, 5 new tests. Phase 1 Step 2 of vision roadmap.",
      "tests_passed": true,
      "files_changed": 4,
      "scouted": 0
    },
    {
      "date": "2026-02-12",
      "task": "Add trend tracking to autonomy scorecard",
      "outcome": "completed",
      "pr": 48,
      "details": "Added trackTrend() and detectRegressions() to autonomy-scorecard.js. Tracks score over time in autonomy-trend.json (max 30 entries). Wired into pipeline-health.js with regression warnings. 7 new tests.",
      "tests_passed": true,
      "files_changed": 4,
      "scouted": 0
    },
    {
      "date": "2026-02-14",
      "task": "Add unit tests for fotball-no.js",
      "outcome": "completed",
      "pr": 67,
      "details": "19 tests covering extractIcsField, parseIcsDateTime (date-only, CET, CEST timezone conversion), and parseIcsForLynMatches (Lyn extraction, TZID handling, missing location, edge cases). Exported 3 internal parsing helpers for testability.",
      "tests_passed": true,
      "files_changed": 2,
      "turns_used": 8,
      "lesson": "Exporting private functions for testing is a clean pattern — minimal change, big test coverage gain.",
      "scouted": 0
    },
    {
      "date": "2026-02-14",
      "task": "Add descriptive alt text to brief-line images",
      "outcome": "completed",
      "pr": 68,
      "details": "Added team/player name as alt text on brief-line logo and headshot images in dashboard.js for screen reader accessibility.",
      "tests_passed": true,
      "files_changed": 1,
      "turns_used": 4,
      "lesson": "Simple a11y fixes are quick wins — variable already in scope, just needs wiring into alt attribute.",
      "scouted": 0
    },
    {
      "date": "2026-02-14",
      "task": "Remove dead CSS rules from index.html",
      "outcome": "completed",
      "pr": 69,
      "details": "Removed .editorial-header, .section-divider, .more-toggle, .more-content CSS rules (~30 lines) — no JS code generates elements with these classes.",
      "tests_passed": true,
      "files_changed": 1,
      "turns_used": 4,
      "lesson": "Verify CSS class usage via grep before removal. .band-results looked dead but was actually dynamically generated.",
      "scouted": 0
    },
    {
      "date": "2026-02-14",
      "task": "Add descriptive alt text to result row images",
      "outcome": "completed",
      "pr": 70,
      "details": "Added team names to football result logos and player names to golf result headshots as alt text. Completes all empty alt='' fixes in dashboard.js.",
      "tests_passed": true,
      "files_changed": 1,
      "turns_used": 4,
      "lesson": "Batch similar a11y fixes across the same file for efficiency.",
      "scouted": 8
    },
    {
      "date": "2026-02-15",
      "task": "Add a11y labels to favorites, streaming, watch-plan, and brief logos",
      "outcome": "completed",
      "pr": 73,
      "details": "Added aria-label to favorite buttons (add/remove state), streaming badge links (Watch on {platform}), watch-plan picks (role=button, tabindex=0, keydown handler), and descriptive alt text to brief-line logos. Batched 4 small a11y tasks into one PR.",
      "tests_passed": true,
      "files_changed": 1,
      "turns_used": 6,
      "lesson": "Batching multiple small a11y fixes in the same file into one PR is very efficient.",
      "scouted": 0
    },
    {
      "date": "2026-02-15",
      "task": "Add validation and helper tests for fetch-results.js",
      "outcome": "completed",
      "pr": 74,
      "details": "Exported formatDate, isFavoriteTeam, isFavoritePlayer for testability. Added 31 new tests covering validation functions and helper utilities.",
      "tests_passed": true,
      "files_changed": 2,
      "turns_used": 6,
      "lesson": "Check existing test files before creating new ones — the roadmap said no test file existed but it did. Added tests for untested functions instead.",
      "scouted": 0
    },
    {
      "date": "2026-02-15",
      "task": "Add unit tests for fetch-rss.js",
      "outcome": "skipped",
      "pr": null,
      "details": "Test file already exists with 17 tests covering parseRssItems, isNorwegianRelevant, filterRecent, buildRssContext, and schema. Roadmap was inaccurate.",
      "tests_passed": true,
      "files_changed": 0,
      "turns_used": 1,
      "lesson": "Always verify task assumptions (like 'no test file exists') before starting work.",
      "scouted": 0
    },
    {
      "date": "2026-02-15",
      "task": "Hide F1 standings when all drivers have zero points",
      "outcome": "completed",
      "pr": 75,
      "details": "Added guard in renderF1Standings() to skip rendering when all driver points are zero. Prevents misleading empty standings display during pre-season or with stale API data.",
      "tests_passed": true,
      "files_changed": 1,
      "turns_used": 4,
      "lesson": "Data quality guards in the UI layer are quick wins — prevent misleading displays without touching the data pipeline.",
      "scouted": 5
    },
    {
      "date": "2026-02-16",
      "task": "Update roadmap: mark 7 already-implemented tasks as DONE",
      "outcome": "completed",
      "pr": 93,
      "pillar": "code",
      "details": "Tasks #3 (tennis results), #4 (F1 results), #7 (golf fallback), #10 (pipeline-health tests), #11 (sync-configs tests), #12 (test fix), and #23 (intervention tracking) were all already implemented but roadmap was stale.",
      "tests_passed": true,
      "files_changed": 1,
      "turns_used": 3,
      "turns_estimated": 2,
      "lesson": "Always verify task completion before starting work — many tasks were already done by previous runs but roadmap wasn't updated.",
      "scouted": 0,
      "meta_insight": "Roadmap staleness is a recurring issue. Each completed task should update the roadmap atomically within its own PR."
    },
    {
      "date": "2026-02-16",
      "task": "Add cross-loop dependency detection (Detector 7)",
      "outcome": "completed",
      "pr": 94,
      "pillar": "quality",
      "details": "Added analyzeCrossLoopDependencies() to analyze-patterns.js. Detects when enrichment or results drops correlate with editorial drops. 6 new tests. Wired into orchestrator and pattern-report.json.",
      "tests_passed": true,
      "files_changed": 2,
      "turns_used": 8,
      "turns_estimated": 8,
      "lesson": "Pattern detection tasks are straightforward when the data structure and existing detectors provide clear examples to follow.",
      "scouted": 0,
      "meta_insight": "The analyze-patterns.js detector pattern is highly composable — adding new detectors takes minimal effort because the structure is consistent."
    },
    {
      "date": "2026-02-16",
      "task": "Add rolling quality trend averages to snapshots",
      "outcome": "completed",
      "pr": 95,
      "pillar": "quality",
      "details": "Added computeRollingAverages() to ai-quality-gates.js. Each quality-history snapshot now includes rollingAverage with 7-entry moving averages for key metrics. Wired into generate-featured.js. 4 new tests.",
      "tests_passed": true,
      "files_changed": 3,
      "turns_used": 6,
      "turns_estimated": 8,
      "lesson": "Quality infrastructure tasks that extend existing data structures are fast and low-risk. The biggest time cost is understanding the data flow.",
      "scouted": 0,
      "meta_insight": "Rolling averages enable the quality decline detector to catch gradual degradation — this makes Detector 2 more sensitive to slow trends."
    },
    {
      "date": "2026-02-16",
      "task": "Fix recurring sport_zero_events health warnings",
      "outcome": "completed",
      "pr": 96,
      "pillar": "quality",
      "details": "Demoted sport_zero_events from warning to info when data file is fresh. Only warns when data is also stale (>6h). Stops 88+ recurring false alarms for tennis/esports that were polluting pattern-report.json.",
      "tests_passed": true,
      "files_changed": 2,
      "turns_used": 5,
      "turns_estimated": 6,
      "lesson": "Health warning severity should reflect the actual problem state, not just the existence of a condition. Fresh data with no events is expected, not a warning.",
      "scouted": 0,
      "meta_insight": "Recurring false alarms desensitize the system to real issues. Fixing severity classification has multiplicative value — all downstream detectors benefit."
    },
    {
      "date": "2026-02-16",
      "task": "Add collapsible inline Premier League mini-table",
      "outcome": "completed",
      "pr": 97,
      "pillar": "personalization",
      "details": "Added renderInlinePLTable() to dashboard.js. Shows top 5 PL teams + favorite teams, collapsed by default, with position gaps and favorite highlighting. Added inline-standings CSS.",
      "tests_passed": true,
      "files_changed": 2,
      "turns_used": 10,
      "turns_estimated": 12,
      "lesson": "UI features that reuse existing patterns (exp-mini-table, band toggle) are quick to implement. The research phase was the biggest time cost.",
      "scouted": 0,
      "meta_insight": "The dashboard has clear extension points: band system for sections, exp-mini-table for data display, preferences for personalization. New widgets slot in easily."
    },
    {
      "date": "2026-02-16",
      "task": "Add thumbs-up/down feedback on watch-plan picks",
      "outcome": "completed",
      "pr": 98,
      "pillar": "personalization",
      "details": "Added watch-plan feedback controls: thumbs-up/down buttons on each pick, stored in localStorage via PreferencesManager. Toggle behavior, proper event propagation handling. CSS styling consistent with existing design.",
      "tests_passed": true,
      "files_changed": 3,
      "turns_used": 8,
      "turns_estimated": 10,
      "lesson": "UI feedback features that integrate with existing storage patterns (PreferencesManager) are quick to implement. The main complexity is proper event handling (stopPropagation for buttons inside clickable containers).",
      "scouted": 0,
      "meta_insight": "Watch-plan feedback is the prerequisite for closing the personalization loop. Next step: export this feedback to the pipeline so it influences future watch-plan scoring."
    },
    {
      "date": "2026-02-16",
      "task": "Evolve favorite teams/players from engagement data",
      "outcome": "completed",
      "shipMode": "branch-pr",
      "pr": 99,
      "pillar": "personalization",
      "details": "Extended evolve-preferences.js to sync favorite teams/players from client-side exports (GitHub Issues + engagement-data.json) into user-context.json. Case-insensitive deduplication. 14 new tests.",
      "tests_passed": true,
      "files_changed": 2,
      "turns_used": 10,
      "turns_estimated": 10,
      "lesson": "Extending an existing pipeline script with a new data path is straightforward when the existing structure is clean. The main work is parsing the data format and adding deduplication.",
      "scouted": 0,
      "meta_insight": "Personalization now covers both sport-level weights AND individual teams/players. The pipeline can learn new favorites from the client-side without manual config changes."
    },
    {
      "date": "2026-02-16",
      "task": "Add generate-insights pipeline step",
      "outcome": "completed",
      "shipMode": "branch-pr",
      "pr": 100,
      "pillar": "capabilities",
      "details": "Created scripts/generate-insights.js with football streaks, standings gaps, golf leaderboard, F1 championship, and high-scoring match analysis. Dashboard renders top 5 insights as accent cards. Added to pipeline-manifest.json generate phase. 22 tests.",
      "tests_passed": true,
      "files_changed": 8,
      "turns_used": 15,
      "turns_estimated": 20,
      "lesson": "Pure data analysis scripts (no LLM) are fast to build and test. The main complexity was sorting priority correctly (0 || 2 = 2 due to falsy zero — use ?? instead of ||).",
      "scouted": 0,
      "meta_insight": "First new pipeline step added by the autopilot via pipeline-manifest.json editing. This proves the manifest pattern works for self-expanding capabilities."
    },
    {
      "date": "2026-02-16",
      "task": "Add inline golf leaderboard and F1 standings widgets",
      "outcome": "completed",
      "shipMode": "direct-to-main",
      "pr": null,
      "pillar": "capabilities",
      "details": "Added collapsible inline widgets for golf (top 5 + Norwegian players) and F1 (top 5 drivers, hidden when pre-season) following the existing PL mini-table pattern.",
      "tests_passed": true,
      "files_changed": 1,
      "turns_used": 4,
      "turns_estimated": 5,
      "lesson": "Following an established UI pattern (PL mini-table) makes new widgets trivial. Direct-to-main is appropriate for small, low-risk UI additions.",
      "scouted": 0,
      "meta_insight": "All three standings sources (PL, golf, F1) now have inline widgets. This closes the data-to-UI gap for standings."
    },
    {
      "date": "2026-02-16",
      "task": "Add event-fingerprint-based preview caching",
      "outcome": "completed",
      "shipMode": "direct-to-main",
      "pr": null,
      "pillar": "data",
      "details": "Preview briefings now use MD5 event fingerprints for change detection instead of fixed 24h timer. Only regenerates when events for the preview date actually change. Falls back to time-based staleness for legacy files. 6 tests.",
      "tests_passed": true,
      "files_changed": 3,
      "turns_used": 6,
      "turns_estimated": 8,
      "lesson": "Caching improvements that reduce unnecessary AI calls are high-leverage. The fingerprint approach is simple and deterministic.",
      "scouted": 0,
      "meta_insight": "Event fingerprinting can be extended to other cached content (e.g., enrichment could skip re-processing unchanged events)."
    }
  ]
}
